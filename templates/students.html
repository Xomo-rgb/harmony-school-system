<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registered Students</title>
</head>
<body>
    <h2>Registered Students</h2>
    <form method="get" action="/students">
    <label for="class_filter">Select Class:</label>
    <select name="class_name" id="class_filter" onchange="this.form.submit()">
        <option value="">-- All Classes --</option>
        <option value="nursery">Nursery</option>
        <option value="reception">Reception</option>
        <option value="standard 1">Standard 1</option>
        <option value="standard 2">Standard 2</option>
        <option value="standard 3">Standard 3</option>
        <option value="standard 4">Standard 4</option>
        <option value="standard 5">Standard 5</option>
        <option value="standard 6">Standard 6</option>
    </select>
</form>

    {% if students %}
    <table border="1" cellpadding="10" cellspacing="0">

        <thead>
            <tr>
            <th>#</th>
            <th>Student Number</th>
            <th>Full Name</th>
            <th>Date of Birth</th>
            <th>Gender</th>
            <th>Class</th>
            <th>Guardian's Phone Number</th>
            <th>Government number</th>
            <th>Special Needs</th>
            <th>Address</th>
            <th>Enrollment Date</th>
            <th>Action</th>          
          </tr>
        </thead>

        <tbody>
            {% for student in students %}
            <tr>
                <td>{{loop.index}}</td>
                <td>{{ student.student_number }}</td>
                <td>{{ student.first_name }} {{ student.middle_name }} {{ student.last_name }}</td>
                <td>{{ student.dob }}</td>
                <td>{{ student.gender }}</td>
                <td>{{ student.class_name }}</td>
                <td>{{ student.guardian_contact }}</td>
                <td>{{ student.government_number }}</td>
                <td>{{student.special_needs}}</td>
                <td>{{ student.address }}</td>
                <td>{{ student.enrollment_date }}</td>
                <td> <a href="{{ url_for('edit_student', student_id=student.student_id) }}">Edit</a>
  
               <form action="{{ url_for('delete_student', student_id=student.student_id) }}" method="post" style="display:inline;">
               <button type="submit" onclick="return confirm('Are you sure you want to delete this student?');">Delete</button></td>
               </form>
            </tr>

            {% endfor %}

        </tbody>
        </table>
        {% else %}
        <p>No students not registered yet</p>
        {% endif %}



</body>

</html>